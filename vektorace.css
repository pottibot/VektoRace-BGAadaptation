/**
 *------
 * BGA framework: © Gregory Isabelli <gisabelli@boardgamearena.com> & Emmanuel Colin <ecolin@boardgamearena.com>
 * VektoRace implementation : © <Pietro Luigi Porcedda> <pietro.l.porcedda@gmail.com>
 *
 * This code has been produced on the BGA studio platform for use on http://boardgamearena.com.
 * See http://en.boardgamearena.com/#!doc/Studio for more information.
 * -----
 */



/*  global variables */
:root {
    --display-illegal: '';
    --track-source-top-left: url("img/track_img/top-left.jpg");
    --track-source-top-right: url("img/track_img/top-right.jpg");
    --track-source-bottom-left: url("img/track_img/bottom-left.jpg");
    --track-source-bottom-right: url("img/track_img/bottom-right.jpg");
    --track-opacity: 1;
}

html {
    /* background-image: url("img/test-background.jpg"); */
}

#centerCross {
    font-size: xx-large;
    color: greenyellow;
    display: block;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: scale(2) translate(-22%, -22%);
    pointer-events: none;
}

/* ------------------------------- */
/* --- SCROLLABLE MAP ELEMENTS --- */
/* ------------------------------- */
/* #region SCROLLABLE MAP */

#map_container {
    /* background-image: url("img/test-background2.jpg"); */

    position: relative;
    overflow: hidden;

    width: 100%;
    height: 600px;
}

#map_scrollable, #map_scrollable_oversurface {
    position: absolute;
}

#map_scrollable_oversurface {
	pointer-events: none;
}

#map_scrollable_oversurface > *{
	pointer-events: initial;
}

#map_surface {
    position: absolute;
    top: 0px;
    left: 0px;
    width: 100%;
    height: 100%;
    cursor: move;
}

#map_footer {
    text-align: center;
}

/* map move arrows */
.movetop,.moveleft,.moveright,.movedown {
    display: block;
    position: absolute;
    background-image: url('../../../img/common/arrows.png');
    width: 32px;
    height: 32px;
}

.movetop {
    top: 0px;
    left: 50%;
    background-position: 0px 32px;
}

.moveleft {
    top: 50%;
    left: 0px;
    background-position: 32px 0px;
}

.moveright {
    top: 50%;
    right: 0px;
    background-position: 0px 0px;
}

/* doesn't work? */
.movedown {
    bottom: 0px;
    left: 50%;
    background-position: 32px 32px;
}

/* #endregion */

/* ---------------------- */
/* --- UI COMPONENTS  --- */
/* ---------------------- */

/* ++++++++++++++++++ */
/* #region token incrementer */
#tokenSelectionWindow {
    width: 100%;
    background-color: rgba(255,255,255,0.5);
    margin-bottom: 10px;

    overflow: hidden;
    height: fit-content;
    transition: height 500ms;
}

#tokenSelPreferences {
    display: inline-block;
    position: relative;
    top: 35%;
    left: 10%;
    height: 0px;
}

#tokenSelPreferences > div {
    margin: 5px;
} 

#tokenSelectionDiv {
    width: fit-content;
    margin-left: auto;
    margin-right: auto;
}

.incrementerDiv {
    width: 150px;
    display: inline-block;
    margin: 10px;
}

.incrementerDiv > .counterTitle {
    text-align: center;
}

.incrementerDiv > div {
    width: fit-content;
    margin: 8px;
    margin-left: auto;
    margin-right: auto;
}

.incrementerDiv > .tokenIncrementer {
    width: 60%;
}

.tokenIncrementer > * {
    display: inline-block;
}

.tokenIncrementer > input {
    position: relative;
    top: 1px;
    height: 20px;
    width: 30%;
    text-align: center;
    border: 2px solid lightslategrey;
}

.tokenIncrementer > button {
    height: 20px;
    width: 30%;
    border: 2px solid lightslategrey;
    background-color: lightgray;
    position: relative;
    top: 1px;
}

button.minus {
    border-top-left-radius: 10px;
    border-bottom-left-radius: 10px;
}

button.plus {
    border-top-right-radius: 10px;
    border-bottom-right-radius: 10px;
}
/* #endregion */


#preferences > div {
    height: 100%;
    padding: 10px;
    background-color: rgba(255, 255, 255, 0.5);
    margin: 5px;
    display: inline-block;
}

/* ++++++++++++++++++++++++++++++++++++++++++ */
/* #region GEAR SELECTION WINDOW AND PREVIEWS */

.gearSelectionPreview {
    position: relative;
    display: inline-block;
    padding: 7px;
    bottom: 0px;
    transition: bottom 250ms;
}

#gearSelectionWindow {
    width: 500px;
    height: 400px;
    margin: 30px;
}

.gearSel_curr {
    filter: drop-shadow(0px 0px 5px OrangeRed);
}

.gearSel_avail:hover {
    filter: drop-shadow(0px 0px 10px ForestGreen);
    bottom: 20px;
    /* border: 7px solid white;
    border-radius: 10px;
    margin: -7px;
    bottom: 20px; */
}

.gearSel_tireCost > div{
    filter: contrast(0.25) brightness(1.55);
}

.gearSel_nitroCost > div {
    filter: contrast(0.25) brightness(1.55);
}

.gearSel_tireCost:hover {
    filter: drop-shadow(0px 0px 10px DimGray);
    bottom: 20px;
}

.gearSel_nitroCost:hover {
    filter: drop-shadow(0px 0px 10px RoyalBlue);
    bottom: 20px;
}

.gearSel_denied > div{
    filter: brightness(0.75);
}

/* .gearSel_denied:hover {
} */



/* .gearSel_tireCost:hover > div {
    filter: contrast(0.65) brightness(1.20);
} */

.gearSelectionPreview > span {
    width: fit-content;
    font-size: x-large;
    font-weight: bold;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    pointer-events: none;
}

.gearSelectionPreview .icon {
    position: relative;
    top: 5px;
}

.gearSel_unavail {
    opacity: 40%;
    pointer-events: none;
}



/* #endregion */


/* --------------------- */
/* --- GAME ELEMENTS --- */
/* --------------------- */

/* every game element needs to be translated so that coodinates indicates its center.
   every game element is scaled from its original size, uniformed to 500px unit octagon size, to 100px unit octagon, thus a scale of 0.2 */
/* .gameElement {
    filter: drop-shadow(15px 15px 5px black);
} */

/* ++++++++++++++++++ */
/* #region CONTAINERS */

/* container for all concrete table elements that do not need to catch user input (cars, curves, pitwall, vectors) */
#track {
    position: relative;
    transform-origin: top left;
    /* debug */
    /* border: solid;
    border-color: blue;
    border-width: 5px; */
}

/* container for all abstract elements that need catch user input (area of placement region, octagon highlight as possible moove) */
#touchable_track {
    position: relative;
    transform-origin: top left;
    pointer-events: none;
}

/* needed to make input fall to child elements */
#touchable_track > *{
	pointer-events: initial;
}

#pos_highlights {
    pointer-events: none;
}

#pos_highlights > *{
	pointer-events: initial;
}

#previews {
    z-index: -1;
}

#game_elements {
    filter: drop-shadow(5px 5px 3px black);

    position: absolute;
    left: 0;
    top: 0;
}

/* #region TRACK IMG */

/* TRACK MAP 17*500 = 8500px true height */

    /* border: dashed red 20px;
    outline: solid red 20px;
    outline-offset: 100px; */

#track_img {
    background: #cde1a2;
    /* filter: drop-shadow(30px 30px 20px black); */

    width: 8000px;
    height: 4394px;
    transform: translate(-50%,-50%) scale(0.42261); /* scale to 100px octagon size */
    position: relative;
    /* DISTANCE PITWALL ORIGIN TO MAP CENTER */
    left: 512px;
    top: -699px;
    opacity: var(--track-opacity);
    z-index: -2
}

.track_img_slice {
    display: inline-block;
    width: 4000px;
    height: 2197px;
    /* WHY NEED OF CUTTING MARGIN? DUNNO, MAYBE SCALING CAUSES WHITE SPACE (SHOULDN'T BE, AS IT IS SCALED AS A GROUP */
    margin-bottom: -6px;
    margin-left: -6px;
    z-index: -5;
}

#track_img #top_left {
    background-image: var(--track-source-top-left);
}
#track_img #top_right {
    background-image: var(--track-source-top-right);
}
#track_img #bottom_left {
    background-image: var(--track-source-bottom-left);
}
#track_img #bottom_right {
    background-image: var(--track-source-bottom-right);
}

/* #endregion */

/* #endregion */

/* ++++++++++++ */
/* #region CARS */
.car {
    background-image: url('img/cars_octagons_markers.png');
    width: 500px;
    height: 500px;
    background-position-x: 0px;
}

/* GREY (desaturated green, coz green match luminance sensitivity)*/
#car_preview {
    background-position-y: -500px;
    z-index: -1;
    filter: saturate(0);
}

/* BLUE */
#car_0000ff {
    background-position-y: 0px;
}

/* GREEN */
#car_008000 {
    background-position-y: -500px;
}

/* RED */
#car_ff0000 {
    background-position-y: -1000px;
}

/* YELLOW */
#car_ffa500 {
    background-position-y: -1500px;
}

/* YELLOW */
#car_ffa500 {
    background-position-y: -1500px;
}

/* CYAN */
#car_72c3b1 {
    background-position-y: -2000px;
}

/* PINK */
#car_e94190 {
    background-position-y: -2500px;
}

/* #endregion */

/* ++++++++++++++ */
/* #region CURVES */
.curve {
    background-image: url('img/curves_icons.png');
    width: 353px;
    height: 353px;
}

#curve_1 {
    background-position: 0px 0px;
}

#curve_2 {
    background-position: -353px 0px;
}

#curve_3 {
    background-position: -706px 0px;
}

#curve_4 {
    background-position: -1059px 0px;
}

#curve_5 {
    background-position: 0px -353px;
}

#curve_6 {
    background-position: -353px -353px;
}

#curve_7 {
    background-position: -706px -353px;
}

#curve_8 {
    background-position: -1059px -353px;
}

/* #endregion */

/* ++++++++++++++++++++++++ */
/* #region DIRECTION ARROWS */
.directionArrow {
    background-image: url('img/curves_icons.png');
    width: 144px;
    height: 250px;
    z-index: 5;
    background-position-y: -1250px;
}

/* makes clickable area larger */
.directionArrow::after {
    content: "";
    position: absolute;
    transform: translate(-171px,-112px); /* !!RECALC */
    width: 500px;
    height: 500px;
    background: rgba(255, 255, 255, .0);
    border-radius: 100%;
}

.blackArrow {
    background-position-x: -500px;
}

.whiteArrow {
    background-position-x: -645px;
}

/* #endregion */

/* ++++++++++++++++++++ */
/* #region VECTORS */

.draftingMeter {
    position: absolute;
    width: 500px;
    height: 1000px;
    background-image: url('img/vectors.png');
    opacity: 0.6;
}

/* .draftingMeter:hover {
    z-index: 10;
    filter: opacity(0.6) drop-shadow(0px 0px 10px red);
} */

#pitwall {
    background-image: url('img/vectors.png');
    background-position-y: -1000px;
    width: 375px;
    height: 1500px;
}

.vector {
    background-image: url('img/vectors.png');
    width: 500px;
}

#gear_1 {
    height: 500px;
    background-position: -1000px 0px;
}
#boost_1 {
    height: 500px;
    background-position: -2500px 0px;
}

#gear_2 {
    height: 1000px;
    background-position: -500px 0px;
}
#boost_2 {
    height: 1000px;
    background-position: -2000px 0px;
}

#gear_3 {
    height: 1500px;
    background-position: -500px -1000px;
}
#boost_3 {
    height: 1500px;
    background-position: -2000px -1000px;
}

#gear_4 {
    height: 2000px;
    background-position: -1000px -500px;
}
#boost_4 {
    height: 2000px;
    background-position: -2500px -500px;
}

#gear_5 {
    height: 2500px;
    background-position: -1500px 0px;
}
#boost_5 {
    height: 2500px;
    background-position: -3000px 0px;
}

.boostPreview {
    filter: brightness(.7);
}

.boostPreview:hover {
    z-index: +1;
    filter: brightness(1);
}

/* #endregion */
/* boost vectors will copy exact style of vectors and change only background-image */

/* +++++++++++++++++++++++++ */
/* #region ABSTRACT ELEMENTS */

#start_positioning_area {
    position: absolute;
    width: 100px;
    height: 350px;
    background-color: rgba(255, 255, 255, .5);
    /* transform: translate(-50%,-50%); */
}

.refCarAnchor {
    width: 30px;
    height: 30px;
    background-color: white;
    opacity: 85%;
    border-radius: 100%;
    transform: translate(-50%,-50%);
    z-index: -5;
}

.carRect {
    position: absolute;
    border: solid red 3px;
    pointer-events: none;
}

.refCarAnchor::after {
    content: "";
    position: absolute;
    left: -35px;
    top: -35px;
    width: 100px;
    height: 100px;
    border-radius: 100%;
    opacity: 0;
    z-index: -5;
}

.refCarAnchor:hover {
    width: 40px;
    height: 40px;
    border: solid red 5px;
    transition-property: width, height;
    transition-duration: 100ms;
}

.point {
    width: 50px;
    height: 50px;
    background-color: greenyellow;
    /* border: 20px solid greenyellow; */
    border-radius: 100%;
    transform: translate(-50%, -50%) scale(0.2);
}

.fsOctagon {
    background-image: url('img/cars_octagons_markers.png');
    background-position: -500px -2500px;
    position: absolute;
    width: 500px;
    height: 500px;
}

/* #region selection octagon */
.selectionOctagon {
    position: absolute;
    width: 500px;
    height: 500px;
    background-image: url('img/cars_octagons_markers.png');
    background-position-x: -500px;
}

.selectionOctagon:hover {
    z-index: 10;
    filter: drop-shadow(0px 0px 10px red);
}

.standardPos {
    background-position-y: 0px;
    opacity: 60%;
}

.illegalPos {
    display: var(--display-illegal);
    background-position-y: -500px;
    opacity: 50%;
    z-index: -2;
}

.deniedPos {
    background-position-y: -1000px;
    opacity: 65%;
    z-index: -1;
}

.tirePos {
    background-position-y: -1500px;
    opacity: 65%;
    z-index: -1;
}

.nitroPos {
    background-position-y: -2000px;
    opacity: 65%;
    z-index: -1;
}

.unactivePos {
    background-position-y: 0px;
    opacity: 25%;
    filter: brightness(0.2);
}

.unactivePos:hover {
    filter: brightness(0.2) drop-shadow(0px 0px 10px red);
}
/* #endregion */

/* #region markers */

.marker {
    background-image: url('img/cars_octagons_markers.png');
    background-position-x: -1000px;
    position: absolute;
    width: 500px;
    height: 500px;
    transform: rotate(-90deg);
}

.boxboxMarker {
    background-position-y: -0px;
}

.pushMarker {
    background-position-y: -1000px;
}

.leftShuntMarker {
    background-position-y: -500px;
}

.rightShuntMarker {
    background-position-y: -1500px;
}

.brakeMarker {
    background-position-y: -2000px;
}

.stopMarker {
    background-position-y: -2500px;
}

/* #endregion */

/* #region turn position indicators */
    .turnPosIndicator {
        background-image: url('img/curves_icons.png');
        width: 250px;
        height: 250px;
        background-position-y: -1000px;
        position: absolute;
        opacity: 0;
        animation: flash 1s cubic-bezier(0, 0.5, 0.5, 1);
    }

    #turnPos_1{
        background-position-x: 0px;
    }

    #turnPos_2{
        background-position-x: -250px;
    }

    #turnPos_3{
        background-position-x: -500px;
    }

    #turnPos_4{
        background-position-x: -750px;
    }

    #turnPos_5{
        background-position-x: -1000px;
    }

    #turnPos_6{
        background-position-x: -1250px;
    }

    @keyframes flash {
        0% {
            opacity: 0;
        }

        50% {
            opacity: 1;
        }

        100% {
            opacity: 0;
        }
    }
    /* #endregion */
/* #endregion */

.attTooltip {
    width: 100px;
    height: 100px;
    background-image: url('img/tooltips/drafting.png');
    background-size: 100px 100px;
}


/* --------------------- */
/* --- PLAYER BOARD ---- */
/* --------------------- */
/* #region PLAYER BOARD */

    .player_score {
        opacity: 0;
    }

    .pbItem {
        position: relative;
        margin: 5px;
        display: inline-block;
        margin-right: 10px;
    }

    .pbItem > span {
        position: relative;
        bottom: 10px;
    }

    .icon {
        display: inline-block;
    }

    .pbItem > .icon {
        margin-right: 5px;
    }

    .bgabutton > .icon {
        position: relative;
        bottom: -5px;
        margin-top: -7px;
    }

    /* #region tokens */
    .token {
        background-image: url('img/curves_icons.png');
        width: 250px;
        height: 250px;
        background-position-y: -1250px;
    }

    .tireToken {
        background-position-x: 0px;
    }

    .nitroToken {
        background-position-x: -250px;
    }
    /* #endregion */

    .cross {
        background-image: url('img/curves_icons.png');
        width: 250px;
        height: 250px;
        background-position: -1250px -1250px;
    }

    .lapIcon {
        background-image: url('img/curves_icons.png');
        background-position: -875px -1250px;
        width: 125px;
        height: 125px;
    }

    .standingsIcon {
        background-image: url('img/curves_icons.png');
        background-position: -875px -1375px;
        width: 125px;
        height: 125px;
    }

    /* #region gear indicators */
    .gearIndicator {
        background-image: url('img/curves_icons.png');
        width: 250px;
        height: 250px;
        background-position-y: -750px;
    }

    .gearInd_0{
        opacity: 0;
    }

    .gearInd_1{
        background-position-x: 0px;
    }

    .gearInd_2{
        background-position-x: -250px;
    }

    .gearInd_3{
        background-position-x: -500px;
    }

    .gearInd_4{
        background-position-x: -750px;
    }

    .gearInd_5{
        background-position-x: -1000px;
    }

    .gearInd_6{
        background-position-x: -1250px;
    }
    /* #endregion */

/* #endregion */


/* remove incrementers for input number */
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
}
input[type=number] { /* Firefox */
  -moz-appearance: textfield;
}